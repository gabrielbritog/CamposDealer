<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="../js/jquery.validate.js"></script>
    <script
      type="text/javascript"
      src="../js/localization/messages_pt_BR.js"
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <script type="text/javascript">
      $(document).ready(function () {
        $('#formCadastro').validate({
          rules: {
            nome: {
              required: true,
              minlength: 2
            },
            valor: {
              required: true,
              minlength: 1
            }
          }
        })
      })
    </script>

    <style type="text/css">
      label.error {
        color: crimson;
        padding: 8px;
      }
    </style>
  </head>
  <body>
    <h1 class="text-center p-3">Produtos</h1>
    <div class="container-md">
      <div class="border p-3">
        <div class="text-center">
          <label class="h6 text-dark" for="dscProduto">Pesquisar</label>
          <input
            type="text"
            id="dscProduto"
            placeholder="Digite a descrição do produto"
          />
          <button class="btn btn-primary" onclick="getProduto()">Buscar</button>
          <button class="btn btn-dark" onclick="reloadPage()">Limpar</button>
        </div>
        <br />
        <div class="row border" id="produtos">
          <table>
            <tr>
              <th class="col border">Descrição</th>
              <th class="col border">Valor unitário</th>
              <th class="col border">Ações</th>
            </tr>
            <tbody id="tableProduto"></tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="p-3">
      <div class="text-center">
        <button
          class="btn btn-primary"
          onclick="document.getElementById('telaCadastro').classList.remove('invisible') "
        >
          Novo Cliente
        </button>
      </div>
      <fieldset id="telaCadastro" class="col-md-6 offset-md-5">
        <div>
          <br />
          <legend class="h3 text-dark offset-md-1 pb-3">Cadastro</legend>
          <form id="formCadastro">
            <label class="h6 text-dark" for="nome">Descrição: </label
            ><input
              type="text"
              name="nome"
              id="nome"
              style="margin-left: 33px"
            /><br />
            <label class="h6 text-dark" for="valor">Valor unitário: </label>
            <input
              type="number"
              name="valor"
              id="valor"
              onkeypress="$(this).mask('R$ #.###0.00', {reverse: true});"
            /><br />
            <br />
            <button
              class="btn btn-primary col-md-2 offset-md-1"
              onclick="salvarProduto()"
            >
              Salvar
            </button>
            <p></p>
          </form>
        </div>

        <button
          class="btn btn-primary col-md-2 offset-md-1"
          onclick="document.getElementById('telaCadastro').classList.add('invisible')"
        >
          Fechar
        </button>
      </fieldset>
    </div>
    <script src="script/script.js"></script>
    <script>
      listarProdutos()
    </script>
    <button
      class="btn btn-primary"
      onclick="document.location.href = '../../index.html'"
    >
      Inicio
    </button>
  </body>
</html>

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>
    <script type="text/javascript" src="../js/jquery.validate.js"></script>
    <script
      type="text/javascript"
      src="../js/localization/messages_pt_BR.js"
    ></script>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
    <script type="text/javascript">
      $(document).ready(function () {
        $('#formCadastro').validate({
          rules: {
            quantidade: {
              required: true
            }
          }
        })
      })
    </script>

    <style type="text/css">
      label.error {
        color: crimson;
        padding: 8px;
      }
    </style>
  </head>
  <body>
    <div>
      <fieldset>
        <legend class="text-center p-3">Alterar Venda</legend>
        <form>
        <form id="formCadastro">
          <input type="hidden" name="id" id="id" />

          <select name="clientes" id="clienteId"></select>
          <select name="produtos" id="produtoId"></select>

          <input
            type="number"
            name="quantidade"
            id="quantidade"
            placeholder="Digite a quantidade"
          />
          <span id="erroQtd" style="color: red"></span>
        </form>
      </fieldset>
      <button class="btn btn-primary" onclick="alterarVenda()">Salvar</button>
      <span id="erroNumeros" style="color: red"></span>

      <button class="btn btn-dark" onclick="voltar()">Voltar</button>
    </form>
      <br /><br />
    </div>

    <script src="script/script.js"></script>
    <script>
      listaClientes()
      listaProdutos()

      const queryString = window.location.search
      const urlParams = new URLSearchParams(queryString)
      buscarVenda(urlParams.get('id'))
    </script>
  </body>
</html>
